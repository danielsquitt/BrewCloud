[{"C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\index.js":"1","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\App.js":"2","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\themeConfig.js":"3","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\context\\EventProvider.js":"4","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\context\\CompanyProvider.js":"5","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\context\\AuthProvider.js":"6","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\Main.jsx":"7","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\Amplify.js":"8","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\UserPool.js":"9","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\graphql\\queries_user.js":"10","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\Container.jsx":"11","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\Login.jsx":"12","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\aws-exports.js":"13","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\ContentMain.jsx":"14","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\login\\NewPassword.jsx":"15","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\device_admin\\DeviceAdmin.jsx":"16","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\userProfile\\Profile.jsx":"17","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\dashboard\\Dashboard.jsx":"18","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\context\\DeviceProvider.js":"19","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\login\\Credentials.jsx":"20","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\Sidebar.jsx":"21","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\Navbar.jsx":"22","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\device_admin\\DeviceCardSelector.jsx":"23","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\device_admin\\DeviceList.jsx":"24","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\dashboard\\widgets\\TempControl.jsx":"25","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\dashboard\\widgets\\TempPressureControl.jsx":"26","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\dashboard\\widgets\\ThreeLedTest.jsx":"27","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\sidebar\\SidebarMenu.jsx":"28","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\sidebar\\SidebarUser.jsx":"29","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\sidebar\\SidebarHeader.jsx":"30","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\componets\\CompanySelector.jsx":"31","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\device_admin\\DeviceListHeaderItem.jsx":"32","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\device_admin\\cards\\DeviceCardThreeLedTest.jsx":"33","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\device_admin\\cards\\DeviceCardBase.jsx":"34","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\dashboard\\widgets\\WidgetBase.jsx":"35"},{"size":219,"mtime":1612381714631,"results":"36","hashOfConfig":"37"},{"size":670,"mtime":1616842988300,"results":"38","hashOfConfig":"37"},{"size":209,"mtime":1616842979809,"results":"39","hashOfConfig":"37"},{"size":3120,"mtime":1616445017983,"results":"40","hashOfConfig":"37"},{"size":3883,"mtime":1615833466213,"results":"41","hashOfConfig":"37"},{"size":6219,"mtime":1616014904998,"results":"42","hashOfConfig":"37"},{"size":909,"mtime":1615833466198,"results":"43","hashOfConfig":"37"},{"size":492,"mtime":1615833466198,"results":"44","hashOfConfig":"37"},{"size":275,"mtime":1612382324527,"results":"45","hashOfConfig":"37"},{"size":1040,"mtime":1616536411524,"results":"46","hashOfConfig":"37"},{"size":1574,"mtime":1616801941455,"results":"47","hashOfConfig":"37"},{"size":2885,"mtime":1616799340210,"results":"48","hashOfConfig":"37"},{"size":793,"mtime":1616535838230,"results":"49","hashOfConfig":"37"},{"size":2084,"mtime":1616844127383,"results":"50","hashOfConfig":"37"},{"size":7007,"mtime":1616014904998,"results":"51","hashOfConfig":"37"},{"size":1151,"mtime":1616852027426,"results":"52","hashOfConfig":"37"},{"size":4552,"mtime":1616014904982,"results":"53","hashOfConfig":"37"},{"size":2470,"mtime":1616850720014,"results":"54","hashOfConfig":"37"},{"size":9503,"mtime":1616848613657,"results":"55","hashOfConfig":"37"},{"size":3941,"mtime":1616014904998,"results":"56","hashOfConfig":"37"},{"size":1963,"mtime":1616843889876,"results":"57","hashOfConfig":"37"},{"size":3707,"mtime":1616844254537,"results":"58","hashOfConfig":"37"},{"size":680,"mtime":1616852049712,"results":"59","hashOfConfig":"37"},{"size":1629,"mtime":1616850596665,"results":"60","hashOfConfig":"37"},{"size":1542,"mtime":1616782214984,"results":"61","hashOfConfig":"37"},{"size":2162,"mtime":1616845189483,"results":"62","hashOfConfig":"37"},{"size":3037,"mtime":1616852111747,"results":"63","hashOfConfig":"37"},{"size":1223,"mtime":1616014904982,"results":"64","hashOfConfig":"37"},{"size":1605,"mtime":1616014904982,"results":"65","hashOfConfig":"37"},{"size":1135,"mtime":1616014904982,"results":"66","hashOfConfig":"37"},{"size":1378,"mtime":1615833466198,"results":"67","hashOfConfig":"37"},{"size":2144,"mtime":1616850687317,"results":"68","hashOfConfig":"37"},{"size":6593,"mtime":1616852132429,"results":"69","hashOfConfig":"37"},{"size":3940,"mtime":1616799655940,"results":"70","hashOfConfig":"37"},{"size":3573,"mtime":1616451156314,"results":"71","hashOfConfig":"37"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},"yjv75u",{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"79","messages":"80","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"81","usedDeprecatedRules":"74"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"84","usedDeprecatedRules":"74"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"87","usedDeprecatedRules":"74"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"100","usedDeprecatedRules":"74"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"109","messages":"110","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"111","usedDeprecatedRules":"74"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"114","messages":"115","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"120","messages":"121","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"124","messages":"125","errorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"126","messages":"127","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"128","usedDeprecatedRules":"74"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"131","usedDeprecatedRules":"74"},{"filePath":"132","messages":"133","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"134","messages":"135","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"136","messages":"137","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"138","messages":"139","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"140","messages":"141","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"142","messages":"143","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"144","messages":"145","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"146","messages":"147","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"148","usedDeprecatedRules":"74"},{"filePath":"149","messages":"150","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"151","usedDeprecatedRules":"74"},"C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\index.js",[],["152","153"],"C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\App.js",[],"C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\themeConfig.js",[],"C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\context\\EventProvider.js",["154"],"import React, { useState, useRef, useEffect } from 'react'\r\n\r\nimport Alert from '@material-ui/lab/Alert'\r\nimport {makeStyles, Snackbar, Backdrop, CircularProgress } from '@material-ui/core';\r\n\r\nexport const EventContext = React.createContext()\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    backdrop: {\r\n        zIndex: theme.zIndex.drawer + 1,\r\n        color: '#fff',\r\n      },\r\n  }));\r\n\r\nconst EventProvider = (props) => {\r\n\r\n    const classes = useStyles();\r\n\r\n    const [open, setOpen] = useState(false)\r\n    const timeout = useRef(0)\r\n    const errormsg = useRef('')\r\n    const [alertArray, setalertArray] = useState([])\r\n\r\n    const newAlert = (severity, message) => {\r\n        console.log('severity', severity)\r\n        setalertArray(alertArray.concat([\r\n            genAlert(severity, message)\r\n    ]))\r\n    }\r\n\r\n    const genAlert = (severity, message)=>{\r\n        \r\n        console.log('severity', severity)\r\n        return(\r\n            <Snackbar \r\n                key={alertArray.length}\r\n                open={true} \r\n                autoHideDuration={10000} \r\n                onClose={()=>{deleteAlert(alertArray.length)}} \r\n                anchorOrigin={{ vertical: 'top', horizontal: 'center' }} \r\n            >\r\n                <Alert \r\n                    onClose={()=>{deleteAlert(alertArray.length)}} \r\n                    severity={severity}\r\n                >\r\n                    {message}\r\n                </Alert>\r\n            </Snackbar>\r\n        )\r\n    }\r\n\r\n    const newError = (message)=>{\r\n        newAlert(\"error\", message)\r\n    }\r\n    const newWarning = (message)=>{\r\n        newAlert(\"warning\", message)\r\n    }\r\n    const newInfo = (message)=>{\r\n        newAlert(\"info\", message)\r\n    }\r\n    const newSuccess = (message)=>{\r\n        newAlert(\"success\", message)\r\n    }\r\n\r\n    const deleteAlert = (key)=> {\r\n        //console.log('Delete', key)\r\n        const array = alertArray\r\n        array.splice(key, 1)\r\n        //console.log('Array', alertArray)\r\n        setalertArray(array)\r\n    }\r\n\r\n    const setBackdrop = (_timeout, _timeoutMessage) => {\r\n        timeout.current = _timeout\r\n        errormsg.current = _timeoutMessage\r\n        setOpen(true)\r\n    }\r\n\r\n    const resetBackdrop = () => {\r\n        setOpen(false)\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(open){\r\n            const timer = setTimeout(()=>{\r\n                setOpen((_open) => {\r\n                    if(_open){\r\n                        newError(errormsg.current)\r\n                    }\r\n                    return false\r\n                })\r\n                \r\n               }, timeout.current)\r\n               return () => clearTimeout(timer);\r\n        }\r\n    }, [open])\r\n\r\n    return (\r\n        <EventContext.Provider value={{newError, newWarning, newInfo, newSuccess, setBackdrop, resetBackdrop}}>\r\n            {alertArray.length > 0 ? alertArray : null }\r\n            <Backdrop className={classes.backdrop} open={open}>\r\n                <CircularProgress color=\"inherit\" />\r\n            </Backdrop>\r\n            {props.children}\r\n        </EventContext.Provider>\r\n    )\r\n}\r\n\r\nexport default EventProvider\r\n","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\context\\CompanyProvider.js",["155","156"],"\r\n// LIBRARIS\r\nimport React, {useState, useEffect, useContext, useRef} from 'react'\r\n\r\nimport { API, Storage } from 'aws-amplify'\r\nimport { companyByName, listCompanys } from './../graphql/queries_user'\r\nimport { EventContext } from \"../context/EventProvider\"\r\nimport { AuthContext } from \"../context/AuthProvider\";\r\n\r\n\r\n\r\nexport const CompanyContext = React.createContext()\r\n\r\nconst CompanyProvider = (props) => {\r\n\r\n    const {newError} = useContext(EventContext)\r\n    const {state} = useContext(AuthContext)\r\n    const [info, setInfo] = useState(false)\r\n\r\n    //const [companyList, setcompanyList] = useState([{}])\r\n    const [ActualCompany, setActualCompany] = useState(false)\r\n    const companyList = useRef(false)\r\n\r\n    useEffect(() => {\r\n        const func = async()=>{\r\n            if (state.logged){\r\n                try {\r\n                    const list = await getCompanyList()\r\n                    companyList.current = list\r\n                    setActualCompany(0)\r\n                } catch (error) {\r\n                    console.log(error);\r\n                }\r\n                \r\n            }\r\n        }\r\n        func()\r\n    }, [state.logged])\r\n\r\n    useEffect(() => {\r\n        if(ActualCompany !== false) {\r\n            setInfo(companyList.current[ActualCompany])\r\n        }\r\n    }, [ActualCompany])\r\n\r\n    useEffect(() => {\r\n        setDocumentInfo(info)\r\n    }, [info.name, info.faviIconUrl])\r\n\r\n    const setCompanyName = (name)=>{\r\n        loadPublicInfo(name)\r\n    }\r\n\r\n    const getS3Url = async(key)=>{\r\n        try {\r\n            const url = await Storage.get(key,  {\r\n                download: false,\r\n            })\r\n            return url\r\n        } catch (error) {\r\n            console.log(error)\r\n            newError(error.message)\r\n            return ''\r\n        }\r\n    }\r\n\r\n    const loadPublicInfo = async(name)=>{\r\n        try {\r\n            // Get public info\r\n            const result = await API.graphql({ \r\n                query: companyByName, \r\n                variables: { name },\r\n                authMode: 'AWS_IAM' \r\n            })\r\n            const data = result.data.companyByName.items[0]\r\n\r\n            // Change Init imagen\r\n            const initImgURL = await getS3Url(data.initImg.key) \r\n            const faviIconUrl = await getS3Url(data.faviIcon.key)\r\n            setInfo({\r\n                id: '',\r\n                name: data.name,\r\n                initImgURL,\r\n                faviIconUrl\r\n            })\r\n\r\n        } catch (error) {\r\n            newError(error.message)\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    const setDocumentInfo = (data) => {\r\n        // Change documment title\r\n        document.title= data.name\r\n\r\n        // Change favicon\r\n        const favicon= document.getElementById(\"favicon\")\r\n        favicon.href = data.faviIconUrl\r\n    }\r\n    \r\n    const getCompanyList = async()=>{\r\n        return await new Promise((resolve, reject) => {\r\n            API.graphql({ \r\n                query: listCompanys, \r\n            })\r\n            .then(async(result)=>{\r\n\r\n                var arr =result.data.listCompanys.items\r\n                var results = await Promise.all(arr.map(async (item) => {\r\n                    item['faviIconUrl'] = await getS3Url(item.faviIcon.key)\r\n                        delete item['faviIcon']\r\n                        item['initImgUrl'] = await getS3Url(item.initImg.key)\r\n                        delete item['initImg']\r\n                    return item;\r\n                }));\r\n                resolve(results)\r\n            })\r\n            .catch((err) => {\r\n                reject(err)\r\n            })\r\n        })\r\n    }\r\n\r\n\r\n    return (\r\n        <CompanyContext.Provider value={{info, setCompanyName, companyList: companyList.current, setActualCompany}}>\r\n            {props.children}\r\n        </CompanyContext.Provider>\r\n    )\r\n}\r\n\r\nexport default CompanyProvider\r\n","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\context\\AuthProvider.js",["157","158"],"\r\n// LIBRARIS\r\nimport React, {useEffect, useState } from 'react'\r\n//import { CognitoUser, AuthenticationDetails } from \"amazon-cognito-identity-js\"\r\nimport {Auth} from '../Amplify';\r\n\r\n// FILES\r\nimport Pool from '../UserPool';\r\n\r\nexport const AuthContext = React.createContext()\r\n\r\n\r\n\r\nconst AuthProvider = (props) => {\r\n\r\n    \r\n\r\n    // Athentification state\r\n    const [state, setState] = useState({logged: false, newPasswordRequired: false, loading: false})\r\n    \r\n    // Cognito objects\r\n    const [user, setUser] = useState(false)\r\n    \r\n    // User data\r\n    const [UserInfo, setUserInfo] = useState(false)\r\n\r\n    // REFRESH TOKEN\r\n    //----------------------------------------------------------------------------------\r\n    useEffect(() => {\r\n        if (state.logged) {\r\n            const interval = user.signInUserSession.accessToken.payload.exp-15 //session.accessToken.getExpiration()-session.accessToken.getIssuedAt()-15\r\n            const id = setInterval(() => {\r\n                //refresh()\r\n                //.then()\r\n            }, interval*1000)\r\n\r\n            return () => clearInterval(id)\r\n        }\r\n    }, [state.logged])\r\n    \r\n    // REFRESH\r\n    //----------------------------------------------------------------------------------\r\n    const refresh = async() => {\r\n        return await new Promise((resolve, reject) => {\r\n            if (user){\r\n                Auth.currentSession()\r\n                    .then(data => resolve(data))\r\n                    .catch(err => reject(err))\r\n            }\r\n       })\r\n    }\r\n\r\n    // LOGIN\r\n    //----------------------------------------------------------------------------------\r\n    const login = async(Username, Password) => {\r\n        return await new Promise((resolve, reject) => {\r\n            setState({logged: false, loading: true})\r\n            authenticate(Username, Password)\r\n            .then((result) => {\r\n                if(result.requiredAttributes){\r\n                    setState({logged: false, newPasswordRequired: true, loading: false})\r\n                }else{\r\n                    setState({logged: true, newPasswordRequired: false, loading: false})\r\n                }\r\n                resolve(result)\r\n            })\r\n            .catch((err) => {\r\n                setState({logged: false, newPasswordRequired: false, loading: false})\r\n                reject(err)\r\n            })\r\n        })\r\n    }\r\n    \r\n    // AUTHENTICATE\r\n    //----------------------------------------------------------------------------------\r\n\r\n    const authenticate = async(Username, Password) => {\r\n        return await new Promise((resolve, reject) => {\r\n            Auth.signIn(Username, Password)\r\n            .then((_user) => {\r\n                if (_user.challengeName === 'NEW_PASSWORD_REQUIRED') {\r\n                    setUser(_user)\r\n                    const userAttributes = _user.challengeParam.userAttributes\r\n                    const requiredAttributes = _user.challengeParam.requiredAttributes\r\n                    resolve({userAttributes, requiredAttributes})\r\n                } else {\r\n                    setUser(_user)\r\n                    const info = { \r\n                        username: _user.username, \r\n                        name: _user.attributes.name, \r\n                        family_name: _user.attributes.family_name, \r\n                        email: _user.attributes.email, \r\n                        sub: _user.attributes.sub}\r\n                    setUserInfo(info)\r\n                    resolve(_user)\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                reject(err)\r\n            })\r\n    })\r\n    }\r\n\r\n    \r\n    // LOG OUT\r\n    //----------------------------------------------------------------------------------\r\n    const logout = () => {\r\n        const user = Pool.getCurrentUser()\r\n        if (user){\r\n            user.signOut()\r\n            setState({logged: false, loading: false, message: ''})\r\n            setUser(false)\r\n        }\r\n    }\r\n    \r\n    // UPDATE USER PASSWORD\r\n    const updateUserPassword = async(Password, NewPassword, attributes) => {\r\n        return await new Promise(async(resolve, reject) => {\r\n            if (Password !== NewPassword){\r\n                reject(\"Password doesn't match:\", Password, NewPassword )\r\n            }else{\r\n                Auth.completeNewPassword(\r\n                        user,\r\n                        NewPassword, \r\n                        attributes\r\n                )\r\n                .then((_user) => {\r\n                        setUser(_user)\r\n                        const info = { \r\n                            username: _user.username, \r\n                            name: _user.attributes.name, \r\n                            family_name: _user.attributes.family_name, \r\n                            email: _user.attributes.email, \r\n                            sub: _user.attributes.sub}\r\n                        console.log(info);\r\n                        setUserInfo(info)\r\n                        setState({logged: true, newPasswordRequired: false, loading: false})\r\n                        resolve(_user)\r\n                })   \r\n                .catch((err) => {\r\n                    reject(err)\r\n                })\r\n            }\r\n        })    \r\n    }\r\n\r\n    // GET ATRIBUTES\r\n    //----------------------------------------------------------------------------------\r\n    const getUserAtributes = async() => {\r\n        return await new Promise((resolve, reject) => {\r\n            user.getUserAttributes(function(err, attributes) {\r\n                if(err){\r\n                    reject(err)\r\n                }\r\n                const results = {}\r\n                for (let attribute of attributes){\r\n                    const {Name, Value} = attribute\r\n                    results[Name] = Value\r\n                }\r\n                resolve(results)\r\n            })\r\n        })\r\n    }\r\n    \r\n    // RETRURN\r\n    //----------------------------------------------------------------------------------\r\n    return (\r\n        <AuthContext.Provider value={{state, UserInfo, login, updateUserPassword, logout, getUserAtributes}}>\r\n            {props.children}\r\n        </AuthContext.Provider>\r\n    )\r\n}\r\n\r\nexport default AuthProvider","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\Main.jsx",[],"C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\Amplify.js",[],"C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\UserPool.js",[],"C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\graphql\\queries_user.js",[],"C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\Container.jsx",[],"C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\Login.jsx",["159","160"],"\r\n// Libraries\r\nimport React, {useEffect, useContext} from 'react'\r\nimport Credentials from './login/Credentials'\r\nimport NewPassword from './login/NewPassword'\r\nimport {AuthContext} from \"./../context/AuthProvider\"\r\nimport { Container, Card, CardMedia } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useParams } from \"react-router-dom\"\r\nimport { EventContext } from \"../context/EventProvider\"\r\nimport { CompanyContext } from './../context/CompanyProvider'\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    cardMedia: {\r\n        paddingTop: '30%', \r\n      },\r\n    card: {\r\n        marginTop: theme.spacing(5),\r\n    },\r\n    form: {\r\n        width: '100%', // Fix IE 11 issue.\r\n        marginTop: theme.spacing(3),\r\n      },\r\n      submit: {\r\n        margin: theme.spacing(3, 0, 2),\r\n      },\r\n}))\r\n\r\nconst Login = (props) => {\r\n\r\n    let { id } = useParams()\r\n\r\n    const classes = useStyles();\r\n\r\n    const {state, login, logout, updateUserPassword } = useContext(AuthContext)\r\n    const {newError} = useContext(EventContext)\r\n    const {info, setCompanyName} = useContext(CompanyContext)\r\n\r\n    useEffect(() => {\r\n        logout()\r\n        if (!id) { id = 'IBS' }\r\n        setCompanyName(id)\r\n        credentialsOnSubmmit('Admin', 'Admin1234')\r\n    }, [id])\r\n\r\n    const newPasswordOnSubmmit = (Password, NewPassword, attributes)=>{\r\n        const func = async()=>{\r\n            updateUserPassword(Password, NewPassword, attributes)\r\n            .catch((error) => {\r\n                newError(error.message)\r\n                console.log('error', error)\r\n            })\r\n        }\r\n        func()\r\n    }\r\n\r\n    const credentialsOnSubmmit = (Username, Password)=>{\r\n        const func = async()=>{\r\n            login(Username, Password)\r\n            .catch((error) => {\r\n                newError(error.message)\r\n                console.log('error', error)\r\n            })\r\n        }\r\n        func()\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(state.logged){\r\n            props.history.push('/')\r\n        } \r\n\r\n    }, [state.logged])\r\n\r\n    return(\r\n        <Container maxWidth=\"xs\">\r\n            <Card className={classes.card}>\r\n                <CardMedia\r\n                    component=\"img\"\r\n                    className={classes.cardMedia}\r\n                    title=\"Company Image\"\r\n                    src={info.initImgURL}\r\n                />\r\n                {state.newPasswordRequired ? (\r\n                    <NewPassword \r\n                        onSubmit={newPasswordOnSubmmit}\r\n                        classes={classes}\r\n                    />\r\n                ) : (\r\n                    <Credentials \r\n                        onSubmit={credentialsOnSubmmit} \r\n                        classes={classes}\r\n                    />\r\n                )}\r\n            </Card>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\aws-exports.js",[],"C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\ContentMain.jsx",["161"],"C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\login\\NewPassword.jsx",[],"C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\device_admin\\DeviceAdmin.jsx",["162","163","164"],"C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\userProfile\\Profile.jsx",["165"],"import React, {useEffect} from 'react'\r\nimport {makeStyles, Grid, Card, CardHeader, CardContent, Divider, Typography } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      flexGrow: 1,\r\n    },\r\n    cardRoot: {\r\n        minWidth: 275,\r\n      },\r\n    paper: {\r\n      height: 140,\r\n      width: 100,\r\n    },\r\n    control: {\r\n      padding: theme.spacing(2),\r\n    },\r\n    typography: {\r\n      fontSize: '0.7rem',\r\n      [theme.breakpoints.up('sm')]: {\r\n        fontSize: '0.8rem',\r\n      },\r\n      [theme.breakpoints.up('md')]: {\r\n        fontSize: '1rem',\r\n      },\r\n      [theme.breakpoints.up('lg')]: {\r\n        fontSize: '1.2rem',\r\n      },\r\n      [theme.breakpoints.up('xl')]: {\r\n        fontSize: '1.5rem',\r\n      },\r\n    },\r\n    cardtitle: {\r\n      fontSize: '2rem',\r\n    },\r\n    \r\n  }));\r\n\r\nconst Profile = ({setSelectedIndex}) => {\r\n\r\n    const classes = useStyles();\r\n\r\n    useEffect(() => {\r\n      setSelectedIndex(0)\r\n    }, [])\r\n    \r\n    return (\r\n        <div className={classes.root}>\r\n            <Grid container spacing={10} justify=\"center\">\r\n                <Grid item xs={12} sm={10} md={8} lg={6}>\r\n                    <Card className={classes.cardRoot} elevation={3}>\r\n                        <CardHeader title={'Profile'} titleTypographyProps={{className: classes.cardtitle}} />\r\n                        <Divider/>\r\n                        <Grid container component={CardContent} spacing={2}>\r\n                          <Grid item xs={12}> \r\n                            <Grid container spacing={1}>\r\n                              <Grid item xs={12} >\r\n                                <div style={{ padding: 10 }}>\r\n                                  <Grid container >\r\n                                    <Grid item component={Typography} className={classes.typography} xs={5}>\r\n                                      USERNAME:\r\n                                    </Grid>\r\n                                    <Grid item component={Typography} className={classes.typography} xs={7}>\r\n                                      danielsquitt\r\n                                    </Grid>\r\n                                  </Grid>\r\n                                </div>\r\n                              </Grid>\r\n                              <Grid item xs={12}>\r\n                                <Grid container>\r\n                                  <Grid item xs={12}>\r\n                                    <Divider/>\r\n                                  </Grid>\r\n                                </Grid>\r\n                              </Grid>\r\n                              <Grid item xs={12}>\r\n                                <div style={{ padding: 10 }}>\r\n                                  <Grid container>\r\n                                    <Grid item component={Typography} className={classes.typography} xs={5}>\r\n                                      NAME:\r\n                                    </Grid>\r\n                                    <Grid item component={Typography} className={classes.typography} xs={7}>\r\n                                      Daniel Squittieri\r\n                                    </Grid>\r\n                                  </Grid>\r\n                                </div>\r\n                              </Grid>\r\n                              <Grid item xs={12}>\r\n                                <Grid container>\r\n                                  <Grid item xs={12}>\r\n                                    <Divider/>\r\n                                  </Grid>\r\n                                </Grid>\r\n                              </Grid>\r\n                              <Grid item xs={12}>\r\n                                <div style={{ padding: 10 }}>\r\n                                  <Grid container>\r\n                                    <Grid item component={Typography} className={classes.typography} xs={5}>\r\n                                      EMAIL:\r\n                                    </Grid>\r\n                                    <Grid item component={Typography} className={classes.typography} xs={7}>\r\n                                      danielsquitt@gmail.com\r\n                                    </Grid>\r\n                                  </Grid>\r\n                                </div>\r\n                              </Grid>\r\n                            </Grid>\r\n                          </Grid>\r\n                        </Grid>\r\n                    </Card>\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile\r\n","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\dashboard\\Dashboard.jsx",["166","167","168","169","170"],"C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\context\\DeviceProvider.js",["171","172"],"C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\login\\Credentials.jsx",[],"C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\Sidebar.jsx",["173","174","175","176","177","178"],"C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\Navbar.jsx",["179"],"C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\device_admin\\DeviceCardSelector.jsx",[],"C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\device_admin\\DeviceList.jsx",["180","181","182","183","184","185","186","187","188","189","190","191"],"C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\dashboard\\widgets\\TempControl.jsx",["192","193","194","195","196","197"],"import React, {useState, useEffect} from 'react'\r\nimport {Grid, Divider, Typography, TextField, Button } from '@material-ui/core';\r\n\r\nimport WidgetBase from './WidgetBase'\r\n\r\nconst TempControl = (props) => {\r\n    return (\r\n        <WidgetBase data={props.data} idx={props.idx}>\r\n            <Grid container spacing={3}>\r\n                <Grid item xs={12}>\r\n                    <Grid container justify=\"center\">\r\n                        <Grid item xs={6}>\r\n                            <Grid container direction={'column'}>\r\n                                <Grid item component={Typography} align={'center'}  xs={12}>\r\n                                    Temperature\r\n                                </Grid>\r\n                                <Grid item component={Typography} align={'center'}  xs={12}>\r\n                                    {props.data.telemetry ? `${props.data.telemetry?.temperature} ºC` : `-- ºC` +  ' / ' + `${props.data.state?.reported?.['sp temperature']} ºC`}\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                        \r\n                    </Grid>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                    <Divider/>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                    <Grid container  spacing={3} alignItems=\"center\">\r\n                        \r\n                    </Grid>\r\n                </Grid>\r\n            </Grid>\r\n        </WidgetBase>\r\n    )\r\n}\r\n\r\nexport default TempControl\r\n","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\dashboard\\widgets\\TempPressureControl.jsx",["198","199","200","201"],"import React from 'react'\r\nimport {Grid, Divider, Typography} from '@material-ui/core';\r\n\r\nimport WidgetBase from './WidgetBase'\r\n\r\nconst TempPressureControl = (props) => {\r\n    return (\r\n        <WidgetBase data={props.data} idx={props.idx}>\r\n            <Grid container spacing={3}>\r\n                <Grid item xs={12}>\r\n                    <Grid container justify=\"center\">\r\n                        <Grid item xs={6}>\r\n                            <Grid container direction={'column'}>\r\n                                <Grid item component={Typography} align={'center'}  xs={12}>\r\n                                    Temperature\r\n                                </Grid>\r\n                                <Grid item component={Typography} align={'center'}  xs={12}>\r\n                                    {props.data.telemetry ? `${props.data.telemetry?.temperature} ºC` : `-- ºC` +  ' / ' + `${props.data.state?.reported?.['sp temperature']} ºC`}\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                        <Grid item xs={6}>\r\n                            <Grid container direction={'column'}>\r\n                                <Grid item component={Typography} align={'center'}  xs={12}>\r\n                                    Presure\r\n                                </Grid>\r\n                                <Grid item component={Typography} align={'center'}  xs={12}>\r\n                                    {props.data.telemetry ? `${props.data.telemetry?.pressure} ºC` : `-- bar` +  ' / ' + `${props.data.state?.reported?.['sp pressure']} bar`}\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                    <Divider/>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                    <Grid container  spacing={3} alignItems=\"center\">\r\n                        \r\n                    </Grid>\r\n                </Grid>\r\n            </Grid>\r\n        </WidgetBase>\r\n    )\r\n}\r\n\r\nexport default TempPressureControl\r\n","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\dashboard\\widgets\\ThreeLedTest.jsx",[],"C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\sidebar\\SidebarMenu.jsx",[],"C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\sidebar\\SidebarUser.jsx",[],"C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\sidebar\\SidebarHeader.jsx",[],"C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\componets\\CompanySelector.jsx",[],"C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\device_admin\\DeviceListHeaderItem.jsx",["202","203","204"],"C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\device_admin\\cards\\DeviceCardThreeLedTest.jsx",["205","206","207","208","209"],"C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\device_admin\\cards\\DeviceCardBase.jsx",["210","211"],"import React, {useEffect, useState, useContext} from 'react'\r\nimport clsx from 'clsx';\r\nimport {makeStyles, Card, CardHeader, CardContent, Divider , Avatar, IconButton } from '@material-ui/core';\r\nimport {DeviceContext} from '../../../../context/DeviceProvider'\r\nimport { red, green } from '@material-ui/core/colors';\r\nimport WifiIcon from '@material-ui/icons/Wifi';\r\nimport WifiOffIcon from '@material-ui/icons/WifiOff';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DoneIcon from '@material-ui/icons/Done';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    avatarConnected: {\r\n        backgroundColor: green[500],\r\n      },\r\n      avatarDisconnected: {\r\n        backgroundColor: red[500],\r\n      },\r\n      avatar: {\r\n          width: theme.spacing(4),\r\n          height: theme.spacing(4),\r\n      },\r\n    cardtitle: {\r\n        fontSize: '1rem',\r\n        [theme.breakpoints.up('md')]:{\r\n            fontSize: '1.5rem',\r\n        }\r\n      },\r\n  }));\r\n\r\n\r\nconst DeviceCardBase = (props) => {\r\n\r\n    const classes = useStyles();\r\n\r\n    const {deviceList} = useContext(DeviceContext)\r\n\r\n    const [state, setstate] = useState(false)\r\n\r\n    const [edit, setedit] = useState(false)\r\n\r\n    useEffect(() => {\r\n        setstate(deviceList[props.index].connected.state)\r\n    }, [deviceList[props.index].connected.state])\r\n\r\n    const avatar = ()=>{\r\n        return(\r\n            <Avatar \r\n                aria-label=\"recipe\" \r\n                className={clsx(classes.avatar, {\r\n                    [classes.avatarConnected]:state ,\r\n                    [classes.avatarDisconnected]:!state ,\r\n                })}\r\n            >\r\n                {state ? (\r\n                    <WifiIcon/>\r\n                ) : (\r\n                    <WifiOffIcon/>\r\n                )}\r\n            </Avatar>\r\n        )\r\n    }\r\n    const handleEdit = () => {\r\n        setedit(!edit);\r\n    };\r\n\r\n    const handleSave = () => {\r\n        setedit(!edit);\r\n    };\r\n\r\n    const handleCancel = () => {\r\n        setedit(!edit);\r\n    };\r\n\r\n    const action = ()=>{\r\n        return(\r\n            <div>\r\n                { edit ? ( \r\n                    <div>\r\n                        <IconButton\r\n                            onClick={handleCancel}\r\n                            aria-label=\"cancel\"\r\n                        >\r\n                            <ClearIcon color=\"secondary\" />\r\n                        </IconButton>\r\n                        <IconButton\r\n                            onClick={handleSave}\r\n                            aria-label=\"save\"\r\n                        >\r\n                            <DoneIcon style={{ color: green[500] }}/>\r\n                        </IconButton>\r\n                    </div>\r\n                ) : ( \r\n                    <IconButton\r\n                        onClick={handleEdit}\r\n                        aria-label=\"edit\"\r\n                    >\r\n                        <EditIcon color=\"primary\"/>\r\n                    </IconButton>\r\n                )\r\n                }\r\n            </div>\r\n            \r\n        )\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <Card elevation={1}>\r\n                <CardHeader\r\n                    avatar={avatar()}\r\n                    title={deviceList[props.index].alias}\r\n                    subheader={deviceList[props.index].name}\r\n                    titleTypographyProps={{className: classes.cardtitle}}\r\n                    action={action()}\r\n                />\r\n                <Divider/>\r\n                <CardContent>\r\n                    {React.Children.map(props.children, child => {\r\n                        if (React.isValidElement(child)) {\r\n                            return React.cloneElement(child);\r\n                          }\r\n                          return child;\r\n                    })}\r\n                </CardContent>\r\n            </Card>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DeviceCardBase\r\n","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\dashboard\\widgets\\WidgetBase.jsx",["212","213"],"import React, {useState, useContext, useEffect} from 'react'\r\nimport clsx from 'clsx';\r\nimport {makeStyles, Grid, Card, CardHeader, CardContent, Divider, Collapse, Avatar, IconButton, CardActionArea  } from '@material-ui/core';\r\nimport { red, green } from '@material-ui/core/colors';\r\nimport WifiIcon from '@material-ui/icons/Wifi';\r\nimport WifiOffIcon from '@material-ui/icons/WifiOff';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport { Link } from 'react-router-dom'\r\nimport { DeviceContext } from './../../../../context/DeviceProvider';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      maxWidth: 345,\r\n    },\r\n    media: {\r\n      height: 0,\r\n      paddingTop: '56.25%', // 16:9\r\n    },\r\n    expand: {\r\n      transform: 'rotate(0deg)',\r\n      marginLeft: 'auto',\r\n      transition: theme.transitions.create('transform', {\r\n        duration: theme.transitions.duration.shortest,\r\n      }),\r\n    },\r\n    expandOpen: {\r\n      transform: 'rotate(180deg)',\r\n    },\r\n    avatarConnected: {\r\n      backgroundColor: green[500],\r\n    },\r\n    avatarDisconnected: {\r\n      backgroundColor: red[500],\r\n    },\r\n    avatar: {\r\n        width: theme.spacing(4),\r\n        height: theme.spacing(4),\r\n    },\r\n    cardtitle: {\r\n        fontSize: '1.5rem',\r\n      },\r\n    cardAction: {\r\n        display: 'flex'\r\n      }\r\n  }));\r\n\r\n  \r\n\r\nconst WidgetBase = (props) => {\r\n\r\n    const classes = useStyles();\r\n\r\n    const {} = useContext(DeviceContext)\r\n\r\n    const [state, setstate] = useState(false)\r\n\r\n    useEffect(() => {\r\n        //console.log(props)\r\n        if (props.data) setstate(props.data.connected.state)\r\n    }, [props.data.connected.state])\r\n\r\n    const [expanded, setExpanded] = useState(true);\r\n\r\n    const handleExpandClick = () => {\r\n        setExpanded(!expanded);\r\n      };\r\n\r\n    const avatar = ()=>{\r\n        return(\r\n            <Avatar \r\n                aria-label=\"recipe\" \r\n                className={clsx(classes.avatar, {\r\n                    [classes.avatarConnected]:state ,\r\n                    [classes.avatarDisconnected]:!state ,\r\n                })}\r\n            >\r\n                {state ? (\r\n                    <WifiIcon/>\r\n                ) : (\r\n                    <WifiOffIcon/>\r\n                )}\r\n            </Avatar>\r\n        )\r\n    }\r\n\r\n    const action = ()=>{\r\n        return(\r\n            <IconButton\r\n                className={clsx(classes.expand, {\r\n                    [classes.expandOpen]: expanded,\r\n                })}\r\n                onClick={handleExpandClick}\r\n                aria-expanded={expanded}\r\n                aria-label=\"show more\"\r\n            >\r\n                <ExpandMoreIcon />\r\n            </IconButton>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Grid item xs={12} md={6} lg={4} xl={3}>\r\n            <Card elevation={3}>\r\n                <CardHeader\r\n                    avatar={avatar()}\r\n                    title={props.data.alias}\r\n                    subheader={props.data.name}\r\n                    titleTypographyProps={{className: classes.cardtitle}}\r\n                    action={action()}\r\n                />\r\n                <Divider/>\r\n                <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\r\n                    <CardActionArea component={Link} to={`/device-admin/${props.idx}`}>\r\n                        <CardContent>\r\n                            {props.children}\r\n                        </CardContent>\r\n                    </CardActionArea >\r\n                </Collapse>\r\n            </Card>\r\n        </Grid>\r\n    )\r\n}\r\n\r\nexport default WidgetBase\r\n",{"ruleId":"214","replacedBy":"215"},{"ruleId":"216","replacedBy":"217"},{"ruleId":"218","severity":1,"message":"219","line":96,"column":8,"nodeType":"220","endLine":96,"endColumn":14,"suggestions":"221"},{"ruleId":"218","severity":1,"message":"222","line":38,"column":8,"nodeType":"220","endLine":38,"endColumn":22,"suggestions":"223"},{"ruleId":"218","severity":1,"message":"224","line":48,"column":8,"nodeType":"220","endLine":48,"endColumn":37,"suggestions":"225"},{"ruleId":"218","severity":1,"message":"226","line":39,"column":8,"nodeType":"220","endLine":39,"endColumn":22,"suggestions":"227"},{"ruleId":"228","severity":1,"message":"229","line":43,"column":11,"nodeType":"230","messageId":"231","endLine":43,"endColumn":18},{"ruleId":"218","severity":1,"message":"232","line":43,"column":25,"nodeType":"233","endLine":43,"endColumn":30},{"ruleId":"218","severity":1,"message":"234","line":75,"column":8,"nodeType":"220","endLine":75,"endColumn":22,"suggestions":"235"},{"ruleId":"236","severity":1,"message":"237","line":28,"column":5,"nodeType":"238","messageId":"239","endLine":28,"endColumn":12},{"ruleId":"228","severity":1,"message":"240","line":2,"column":9,"nodeType":"230","messageId":"231","endLine":2,"endColumn":19},{"ruleId":"228","severity":1,"message":"241","line":4,"column":9,"nodeType":"230","messageId":"231","endLine":4,"endColumn":18},{"ruleId":"218","severity":1,"message":"242","line":27,"column":10,"nodeType":"220","endLine":27,"endColumn":12,"suggestions":"243"},{"ruleId":"218","severity":1,"message":"244","line":45,"column":8,"nodeType":"220","endLine":45,"endColumn":10,"suggestions":"245"},{"ruleId":"228","severity":1,"message":"246","line":2,"column":29,"nodeType":"230","messageId":"231","endLine":2,"endColumn":34},{"ruleId":"228","severity":1,"message":"247","line":14,"column":10,"nodeType":"230","messageId":"231","endLine":14,"endColumn":23},{"ruleId":"218","severity":1,"message":"244","line":18,"column":6,"nodeType":"220","endLine":18,"endColumn":8,"suggestions":"248"},{"ruleId":"249","severity":1,"message":"250","line":22,"column":53,"nodeType":"251","messageId":"252","endLine":22,"endColumn":55},{"ruleId":"253","severity":1,"message":"254","line":23,"column":11,"nodeType":"255","messageId":"256","endLine":30,"endColumn":12},{"ruleId":"218","severity":1,"message":"257","line":107,"column":8,"nodeType":"220","endLine":107,"endColumn":17,"suggestions":"258"},{"ruleId":"253","severity":1,"message":"254","line":166,"column":9,"nodeType":"255","messageId":"256","endLine":192,"endColumn":10},{"ruleId":"228","severity":1,"message":"259","line":3,"column":39,"nodeType":"230","messageId":"231","endLine":3,"endColumn":43},{"ruleId":"228","severity":1,"message":"260","line":3,"column":45,"nodeType":"230","messageId":"231","endLine":3,"endColumn":53},{"ruleId":"228","severity":1,"message":"261","line":3,"column":55,"nodeType":"230","messageId":"231","endLine":3,"endColumn":67},{"ruleId":"228","severity":1,"message":"262","line":3,"column":69,"nodeType":"230","messageId":"231","endLine":3,"endColumn":81},{"ruleId":"228","severity":1,"message":"263","line":4,"column":25,"nodeType":"230","messageId":"231","endLine":4,"endColumn":34},{"ruleId":"228","severity":1,"message":"264","line":5,"column":18,"nodeType":"230","messageId":"231","endLine":5,"endColumn":26},{"ruleId":"218","severity":1,"message":"265","line":93,"column":8,"nodeType":"220","endLine":93,"endColumn":22,"suggestions":"266"},{"ruleId":"228","severity":1,"message":"240","line":2,"column":9,"nodeType":"230","messageId":"231","endLine":2,"endColumn":19},{"ruleId":"228","severity":1,"message":"267","line":2,"column":28,"nodeType":"230","messageId":"231","endLine":2,"endColumn":32},{"ruleId":"228","severity":1,"message":"260","line":2,"column":80,"nodeType":"230","messageId":"231","endLine":2,"endColumn":88},{"ruleId":"228","severity":1,"message":"262","line":2,"column":90,"nodeType":"230","messageId":"231","endLine":2,"endColumn":102},{"ruleId":"228","severity":1,"message":"261","line":2,"column":104,"nodeType":"230","messageId":"231","endLine":2,"endColumn":116},{"ruleId":"228","severity":1,"message":"268","line":2,"column":118,"nodeType":"230","messageId":"231","endLine":2,"endColumn":131},{"ruleId":"228","severity":1,"message":"269","line":3,"column":8,"nodeType":"230","messageId":"231","endLine":3,"endColumn":18},{"ruleId":"228","severity":1,"message":"270","line":4,"column":8,"nodeType":"230","messageId":"231","endLine":4,"endColumn":18},{"ruleId":"228","severity":1,"message":"271","line":11,"column":12,"nodeType":"230","messageId":"231","endLine":11,"endColumn":22},{"ruleId":"228","severity":1,"message":"272","line":13,"column":12,"nodeType":"230","messageId":"231","endLine":13,"endColumn":16},{"ruleId":"218","severity":1,"message":"273","line":17,"column":8,"nodeType":"220","endLine":17,"endColumn":10,"suggestions":"274"},{"ruleId":"249","severity":1,"message":"275","line":21,"column":53,"nodeType":"251","messageId":"276","endLine":21,"endColumn":55},{"ruleId":"228","severity":1,"message":"277","line":1,"column":16,"nodeType":"230","messageId":"231","endLine":1,"endColumn":24},{"ruleId":"228","severity":1,"message":"278","line":1,"column":26,"nodeType":"230","messageId":"231","endLine":1,"endColumn":35},{"ruleId":"228","severity":1,"message":"279","line":2,"column":36,"nodeType":"230","messageId":"231","endLine":2,"endColumn":45},{"ruleId":"228","severity":1,"message":"280","line":2,"column":47,"nodeType":"230","messageId":"231","endLine":2,"endColumn":53},{"ruleId":"281","severity":1,"message":"282","line":18,"column":113,"nodeType":"283","messageId":"284","endLine":18,"endColumn":114},{"ruleId":"281","severity":1,"message":"282","line":18,"column":122,"nodeType":"283","messageId":"284","endLine":18,"endColumn":123},{"ruleId":"281","severity":1,"message":"282","line":18,"column":113,"nodeType":"283","messageId":"284","endLine":18,"endColumn":114},{"ruleId":"281","severity":1,"message":"282","line":18,"column":122,"nodeType":"283","messageId":"284","endLine":18,"endColumn":123},{"ruleId":"281","severity":1,"message":"282","line":28,"column":111,"nodeType":"283","messageId":"284","endLine":28,"endColumn":112},{"ruleId":"281","severity":1,"message":"282","line":28,"column":120,"nodeType":"283","messageId":"284","endLine":28,"endColumn":121},{"ruleId":"228","severity":1,"message":"261","line":2,"column":51,"nodeType":"230","messageId":"231","endLine":2,"endColumn":63},{"ruleId":"228","severity":1,"message":"268","line":2,"column":65,"nodeType":"230","messageId":"231","endLine":2,"endColumn":78},{"ruleId":"228","severity":1,"message":"285","line":23,"column":24,"nodeType":"230","messageId":"231","endLine":23,"endColumn":36},{"ruleId":"228","severity":1,"message":"286","line":3,"column":89,"nodeType":"230","messageId":"231","endLine":3,"endColumn":97},{"ruleId":"228","severity":1,"message":"287","line":3,"column":99,"nodeType":"230","messageId":"231","endLine":3,"endColumn":115},{"ruleId":"218","severity":1,"message":"288","line":45,"column":8,"nodeType":"220","endLine":45,"endColumn":34,"suggestions":"289"},{"ruleId":"218","severity":1,"message":"290","line":51,"column":8,"nodeType":"220","endLine":51,"endColumn":20,"suggestions":"291"},{"ruleId":"292","severity":1,"message":"293","line":55,"column":18,"nodeType":"283","messageId":"239","endLine":55,"endColumn":20},{"ruleId":"218","severity":1,"message":"294","line":44,"column":8,"nodeType":"220","endLine":44,"endColumn":49,"suggestions":"295"},{"ruleId":"218","severity":1,"message":"296","line":44,"column":9,"nodeType":"297","endLine":44,"endColumn":48},{"ruleId":"298","severity":1,"message":"299","line":53,"column":11,"nodeType":"300","messageId":"239","endLine":53,"endColumn":13},{"ruleId":"218","severity":1,"message":"301","line":60,"column":8,"nodeType":"220","endLine":60,"endColumn":36,"suggestions":"302"},"no-native-reassign",["303"],"no-negated-in-lhs",["304"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'newError'. Either include it or remove the dependency array.","ArrayExpression",["305"],"React Hook useEffect has a missing dependency: 'getCompanyList'. Either include it or remove the dependency array.",["306"],"React Hook useEffect has a missing dependency: 'info'. Either include it or remove the dependency array.",["307"],"React Hook useEffect has a missing dependency: 'user.signInUserSession.accessToken.payload.exp'. Either include it or remove the dependency array.",["308"],"no-unused-vars","'refresh' is assigned a value but never used.","Identifier","unusedVar","Assignments to the 'id' variable from inside React Hook useEffect will be lost after each render. To preserve the value over time, store it in a useRef Hook and keep the mutable value in the '.current' property. Otherwise, you can move this variable directly inside useEffect.","Literal","React Hook useEffect has a missing dependency: 'props.history'. Either include it or remove the dependency array.",["309"],"no-dupe-keys","Duplicate key 'content'.","ObjectExpression","unexpected","'makeStyles' is defined but never used.","'useParams' is defined but never used.","React Hook useEffect has a missing dependency: 'props'. Either include it or remove the dependency array.",["310"],"React Hook useEffect has a missing dependency: 'setSelectedIndex'. Either include it or remove the dependency array. If 'setSelectedIndex' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["311"],"'Paper' is defined but never used.","'DeviceWidgets' is assigned a value but never used.",["312"],"array-callback-return","Array.prototype.map() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","default-case","Expected a default case.","SwitchStatement","missingDefaultCase","React Hook useEffect has missing dependencies: 'PUB', 'getDeviceList', and 'messageDispatcher'. Either include them or remove the dependency array.",["313"],"'List' is defined but never used.","'ListItem' is defined but never used.","'ListItemIcon' is defined but never used.","'ListItemText' is defined but never used.","'InboxIcon' is defined but never used.","'MailIcon' is defined but never used.","React Hook useEffect has missing dependencies: 'loaded' and 'setActualCompany'. Either include them or remove the dependency array.",["314"],"'Grid' is defined but never used.","'ListSubheader' is defined but never used.","'ExpandLess' is defined but never used.","'ExpandMore' is defined but never used.","'deviceList' is assigned a value but never used.","'open' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'setIndex'. Either include it or remove the dependency array. If 'setIndex' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["315"],"Array.prototype.map() expects a return value from arrow function.","expectedInside","'useState' is defined but never used.","'useEffect' is defined but never used.","'TextField' is defined but never used.","'Button' is defined but never used.","no-useless-concat","Unexpected string concatenation of literals.","BinaryExpression","unexpectedConcat","'deviceByType' is assigned a value but never used.","'Backdrop' is defined but never used.","'CircularProgress' is defined but never used.","React Hook useEffect has missing dependencies: 'deviceList', 'props.index', and 'resetBackdrop'. Either include them or remove the dependency array. If 'setchange' needs the current value of 'props.index', you can also switch to useReducer instead of useState and read 'props.index' in the reducer.",["316"],"React Hook useEffect has a missing dependency: 'props.index'. Either include it or remove the dependency array. If 'setled1' needs the current value of 'props.index', you can also switch to useReducer instead of useState and read 'props.index' in the reducer.",["317"],"eqeqeq","Expected '===' and instead saw '=='.","React Hook useEffect has missing dependencies: 'deviceList' and 'props.index'. Either include them or remove the dependency array. If 'setstate' needs the current value of 'props.index', you can also switch to useReducer instead of useState and read 'props.index' in the reducer.",["318"],"React Hook useEffect has a complex expression in the dependency array. Extract it to a separate variable so it can be statically checked.","MemberExpression","no-empty-pattern","Unexpected empty object pattern.","ObjectPattern","React Hook useEffect has a missing dependency: 'props.data'. Either include it or remove the dependency array.",["319"],"no-global-assign","no-unsafe-negation",{"desc":"320","fix":"321"},{"desc":"322","fix":"323"},{"desc":"324","fix":"325"},{"desc":"326","fix":"327"},{"desc":"328","fix":"329"},{"desc":"330","fix":"331"},{"desc":"332","fix":"333"},{"desc":"332","fix":"334"},{"desc":"335","fix":"336"},{"desc":"337","fix":"338"},{"desc":"339","fix":"340"},{"desc":"341","fix":"342"},{"desc":"343","fix":"344"},{"desc":"343","fix":"345"},{"desc":"346","fix":"347"},"Update the dependencies array to be: [newError, open]",{"range":"348","text":"349"},"Update the dependencies array to be: [getCompanyList, state.logged]",{"range":"350","text":"351"},"Update the dependencies array to be: [info.name, info.faviIconUrl, info]",{"range":"352","text":"353"},"Update the dependencies array to be: [state.logged, user.signInUserSession.accessToken.payload.exp]",{"range":"354","text":"355"},"Update the dependencies array to be: [props.history, state.logged]",{"range":"356","text":"357"},"Update the dependencies array to be: [props]",{"range":"358","text":"359"},"Update the dependencies array to be: [setSelectedIndex]",{"range":"360","text":"361"},{"range":"362","text":"361"},"Update the dependencies array to be: [PUB, getDeviceList, info.id, messageDispatcher]",{"range":"363","text":"364"},"Update the dependencies array to be: [companyValue, loaded, setActualCompany]",{"range":"365","text":"366"},"Update the dependencies array to be: [setIndex]",{"range":"367","text":"368"},"Update the dependencies array to be: [led1, led2, led3, change, deviceList, props.index, resetBackdrop]",{"range":"369","text":"370"},"Update the dependencies array to be: [deviceList, props.index]",{"range":"371","text":"372"},{"range":"373","text":"372"},"Update the dependencies array to be: [props.data, props.data.connected.state]",{"range":"374","text":"375"},[2674,2680],"[newError, open]",[1142,1156],"[getCompanyList, state.logged]",[1379,1408],"[info.name, info.faviIconUrl, info]",[1130,1144],"[state.logged, user.signInUserSession.accessToken.payload.exp]",[2064,2078],"[props.history, state.logged]",[732,734],"[props]",[972,974],"[setSelectedIndex]",[601,603],[4612,4621],"[PUB, getDeviceList, info.id, messageDispatcher]",[2660,2674],"[companyValue, loaded, setActualCompany]",[676,678],"[setIndex]",[1672,1698],"[led1, led2, led3, change, deviceList, props.index, resetBackdrop]",[1937,1949],"[deviceList, props.index]",[1330,1371],[1642,1670],"[props.data, props.data.connected.state]"]
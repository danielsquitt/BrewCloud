[{"C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\index.js":"1","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\App.js":"2","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\themeConfig.js":"3","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\context\\CompanyProvider.js":"4","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\context\\EventProvider.js":"5","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\context\\AuthProvider.js":"6","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\Main.jsx":"7","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\UserPool.js":"8","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\aws-exports.js":"9","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\graphql\\queries_user.js":"10","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\Login.jsx":"11","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\Container.jsx":"12","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\login\\Credentials.jsx":"13","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\login\\NewPassword.jsx":"14","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\Footer.jsx":"15","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\Navbar.jsx":"16","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\Sidebar.jsx":"17","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\dashboard\\Dashboard.jsx":"18","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\componets\\CompanySelector.jsx":"19","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\sidebar\\SidebarHeader.jsx":"20","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\sidebar\\SidebarUser.jsx":"21"},{"size":219,"mtime":1612381714631,"results":"22","hashOfConfig":"23"},{"size":670,"mtime":1613328382453,"results":"24","hashOfConfig":"23"},{"size":233,"mtime":1612687597106,"results":"25","hashOfConfig":"23"},{"size":3885,"mtime":1614207459526,"results":"26","hashOfConfig":"23"},{"size":1931,"mtime":1613587028513,"results":"27","hashOfConfig":"23"},{"size":6265,"mtime":1613925767299,"results":"28","hashOfConfig":"23"},{"size":909,"mtime":1613946037292,"results":"29","hashOfConfig":"23"},{"size":275,"mtime":1612382324527,"results":"30","hashOfConfig":"23"},{"size":793,"mtime":1613927749170,"results":"31","hashOfConfig":"23"},{"size":679,"mtime":1613924521525,"results":"32","hashOfConfig":"23"},{"size":2890,"mtime":1614198351832,"results":"33","hashOfConfig":"23"},{"size":1495,"mtime":1613946002381,"results":"34","hashOfConfig":"23"},{"size":3941,"mtime":1612982688813,"results":"35","hashOfConfig":"23"},{"size":7007,"mtime":1612702329396,"results":"36","hashOfConfig":"23"},{"size":153,"mtime":1612994745435,"results":"37","hashOfConfig":"23"},{"size":3721,"mtime":1614208130085,"results":"38","hashOfConfig":"23"},{"size":2462,"mtime":1614553683005,"results":"39","hashOfConfig":"23"},{"size":693,"mtime":1612994745436,"results":"40","hashOfConfig":"23"},{"size":1403,"mtime":1614207851678,"results":"41","hashOfConfig":"23"},{"size":1031,"mtime":1614551043053,"results":"42","hashOfConfig":"23"},{"size":1492,"mtime":1614553760596,"results":"43","hashOfConfig":"23"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},"9u55g1",{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51","usedDeprecatedRules":"46"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54","usedDeprecatedRules":"46"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"57","usedDeprecatedRules":"46"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60","usedDeprecatedRules":"46"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"71","usedDeprecatedRules":"46"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"83","usedDeprecatedRules":"46"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"90","usedDeprecatedRules":"46"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"93","messages":"94","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\index.js",[],["95","96"],"C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\App.js",[],"C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\themeConfig.js",["97","98"],"import { createMuiTheme } from \"@material-ui/core/styles\";\r\nimport {blueGrey, red} from '@material-ui/core/colors';\r\n\r\nconst theme = createMuiTheme({\r\n    palette:{\r\n        background:{\r\n        } \r\n    }\r\n})\r\n\r\nexport default theme","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\context\\CompanyProvider.js",["99","100"],"\r\n// LIBRARIS\r\nimport React, {useState, useEffect, useContext, useRef} from 'react'\r\n\r\nimport { API, Storage } from 'aws-amplify'\r\nimport { companyByName, listCompanys } from './../graphql/queries_user'\r\nimport { EventContext } from \"../context/EventProvider\"\r\nimport { AuthContext } from \"../context/AuthProvider\";\r\n\r\n\r\n\r\nexport const CompanyContext = React.createContext()\r\n\r\nconst CompanyProvider = (props) => {\r\n\r\n    const {newError} = useContext(EventContext)\r\n    const {state} = useContext(AuthContext)\r\n\r\n    const [info, setInfo] = useState(false)\r\n\r\n    //const [companyList, setcompanyList] = useState([{}])\r\n    const [ActualCompany, setActualCompany] = useState(false)\r\n    const companyList = useRef(false)\r\n\r\n    useEffect(() => {\r\n        const func = async()=>{\r\n            if (state.logged){\r\n                try {\r\n                    const list = await getCompanyList()\r\n                    companyList.current = list\r\n                    setActualCompany(0)\r\n                } catch (error) {\r\n                    console.log(error);\r\n                }\r\n                \r\n            }\r\n        }\r\n        func()\r\n    }, [state.logged])\r\n\r\n    useEffect(() => {\r\n        if(ActualCompany !== false) {\r\n            setInfo(companyList.current[ActualCompany])\r\n        }\r\n    }, [ActualCompany])\r\n\r\n    useEffect(() => {\r\n        setDocumentInfo(info)\r\n    }, [info.name, info.faviIconUrl])\r\n\r\n    const setCompanyName = (name)=>{\r\n        loadPublicInfo(name)\r\n    }\r\n\r\n    const getS3Url = async(key)=>{\r\n        try {\r\n            const url = await Storage.get(key,  {\r\n                download: false,\r\n            })\r\n            return url\r\n        } catch (error) {\r\n            console.log(error)\r\n            newError(error.message)\r\n            return ''\r\n        }\r\n    }\r\n\r\n    const loadPublicInfo = async(name)=>{\r\n        try {\r\n            // Get public info\r\n            const result = await API.graphql({ \r\n                query: companyByName, \r\n                variables: { name },\r\n                authMode: 'AWS_IAM' \r\n            })\r\n            const data = result.data.companyByName.items[0]\r\n\r\n            // Change Init imagen\r\n            const initImgURL = await getS3Url(data.initImg.key) \r\n            const faviIconUrl = await getS3Url(data.faviIcon.key)\r\n            setInfo({\r\n                id: '',\r\n                name: data.name,\r\n                initImgURL,\r\n                faviIconUrl\r\n            })\r\n\r\n        } catch (error) {\r\n            newError(error.message)\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    const setDocumentInfo = (data) => {\r\n        // Change documment title\r\n        document.title= data.name\r\n\r\n        // Change favicon\r\n        const favicon= document.getElementById(\"favicon\")\r\n        favicon.href = data.faviIconUrl\r\n    }\r\n    \r\n    const getCompanyList = async()=>{\r\n        return await new Promise((resolve, reject) => {\r\n            API.graphql({ \r\n                query: listCompanys, \r\n            })\r\n            .then(async(result)=>{\r\n\r\n                var arr =result.data.listCompanys.items\r\n                var results = await Promise.all(arr.map(async (item) => {\r\n                    item['faviIconUrl'] = await getS3Url(item.faviIcon.key)\r\n                        delete item['faviIcon']\r\n                        item['initImgUrl'] = await getS3Url(item.initImg.key)\r\n                        delete item['initImg']\r\n                    return item;\r\n                }));\r\n                resolve(results)\r\n            })\r\n            .catch((err) => {\r\n                reject(err)\r\n            })\r\n        })\r\n    }\r\n\r\n\r\n    return (\r\n        <CompanyContext.Provider value={{info, setCompanyName, companyList: companyList.current, setActualCompany}}>\r\n            {props.children}\r\n        </CompanyContext.Provider>\r\n    )\r\n}\r\n\r\nexport default CompanyProvider\r\n","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\context\\EventProvider.js",["101"],"import React, { useState, useRef} from 'react'\r\n\r\nimport Alert from '@material-ui/lab/Alert'\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\n\r\nexport const EventContext = React.createContext()\r\n\r\nconst EventProvider = (props) => {\r\n\r\n    \r\n\r\n    const [alertArray, setalertArray] = useState([])\r\n\r\n    const newAlert = (severity, message) => {\r\n        console.log('severity', severity)\r\n        setalertArray(alertArray.concat([\r\n            genAlert(severity, message)\r\n    ]))\r\n    }\r\n\r\n    const genAlert = (severity, message)=>{\r\n        \r\n        console.log('severity', severity)\r\n        return(\r\n            <Snackbar \r\n                key={alertArray.length}\r\n                open={true} \r\n                autoHideDuration={10000} \r\n                onClose={()=>{deleteAlert(alertArray.length)}} \r\n                anchorOrigin={{ vertical: 'top', horizontal: 'center' }} \r\n            >\r\n                <Alert \r\n                    onClose={()=>{deleteAlert(alertArray.length)}} \r\n                    severity={severity}\r\n                >\r\n                    {message}\r\n                </Alert>\r\n            </Snackbar>\r\n        )\r\n    }\r\n\r\n    const newError = (message)=>{\r\n        newAlert(\"error\", message)\r\n    }\r\n    const newWarning = (message)=>{\r\n        newAlert(\"warning\", message)\r\n    }\r\n    const newInfo = (message)=>{\r\n        newAlert(\"info\", message)\r\n    }\r\n    const newSuccess = (message)=>{\r\n        newAlert(\"success\", message)\r\n    }\r\n\r\n    const deleteAlert = (key)=> {\r\n        console.log('Delete', key)\r\n        const array = alertArray\r\n        array.splice(key, 1)\r\n        console.log('Array', alertArray)\r\n        setalertArray(array)\r\n    }\r\n\r\n \r\n\r\n    return (\r\n        <EventContext.Provider value={{newError, newWarning, newInfo, newSuccess}}>\r\n            {alertArray}\r\n            {props.children}\r\n        </EventContext.Provider>\r\n    )\r\n}\r\n\r\nexport default EventProvider\r\n","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\context\\AuthProvider.js",["102"],"\r\n// LIBRARIS\r\nimport React, {useEffect, useState} from 'react'\r\nimport { CognitoUser, AuthenticationDetails } from \"amazon-cognito-identity-js\"\r\nimport Amplify from 'aws-amplify';\r\n\r\n// FILES\r\nimport Pool from '../UserPool';\r\nimport awsmobile from './../aws-exports';\r\n\r\nexport const AuthContext = React.createContext()\r\n\r\nconst AuthProvider = (props) => {\r\n\r\n    Amplify.configure(awsmobile);\r\n\r\n    // Athentification state\r\n    const [state, setState] = useState({logged: false, newPasswordRequired: false, loading: false})\r\n    \r\n    // Cognito objects\r\n    const [session, setSession] = useState(false)\r\n    const [user, setUser] = useState(false)\r\n    \r\n    // User data\r\n    const [UserInfo, setUserInfo] = useState(false)\r\n\r\n    // REFRESH TOKEN\r\n    //----------------------------------------------------------------------------------\r\n    useEffect(() => {\r\n        if (state.logged) {\r\n            const interval = session.accessToken.getExpiration()-session.accessToken.getIssuedAt()-15\r\n            const id = setInterval(() => {\r\n                refresh()\r\n                .then()\r\n            }, interval*1000)\r\n\r\n            return () => clearInterval(id)\r\n        }\r\n    }, [state.logged])\r\n    \r\n    // REFRESH\r\n    //----------------------------------------------------------------------------------\r\n    const refresh = async() => {\r\n        return await new Promise((resolve, reject) => {\r\n            if (user){\r\n                user.refreshSession(session.refreshToken, (err, session_new) =>{\r\n                    if(err){\r\n                        reject(err)\r\n                    }else{\r\n                        setSession({session_new})\r\n                        resolve(session_new)\r\n                    }\r\n                })\r\n            }else{\r\n                reject('User not set')\r\n            }\r\n        })\r\n    }\r\n    \r\n    // LOGIN\r\n    //----------------------------------------------------------------------------------\r\n    const login = async(Username, Password) => {\r\n        return await new Promise((resolve, reject) => {\r\n            setState({logged: false, loading: true})\r\n            authenticate(Username, Password)\r\n            .then((result) => {\r\n                if(result.requiredAttributes){\r\n                    setState({logged: false, newPasswordRequired: true, loading: false})\r\n                }else{\r\n                    setState({logged: true, newPasswordRequired: false, loading: false})\r\n                }\r\n                resolve(result)\r\n            })\r\n            .catch((err) => {\r\n                setState({logged: false, newPasswordRequired: false, loading: false})\r\n                reject(err)\r\n            })\r\n        })\r\n    }\r\n    \r\n    // AUTHENTICATE\r\n    //----------------------------------------------------------------------------------\r\n    const authenticate = async(Username, Password) => {\r\n        return await new Promise((resolve, reject) => {\r\n            \r\n            var _user = new CognitoUser({ Username, Pool })    \r\n            _user.authenticateUser(new AuthenticationDetails({ Username, Password }), {\r\n                onSuccess: data => {\r\n                    setSession(data)\r\n                    setUser(_user)\r\n                    const {'cognito:username':username, name, family_name, email, sub, auth_time} = data.idToken.decodePayload()\r\n                    setUserInfo({username, name, family_name, email, sub, auth_time})\r\n                    resolve(data)\r\n                },\r\n                onFailure: err => {\r\n                    reject(err)\r\n                },\r\n                newPasswordRequired: (userAttributes, requiredAttributes) => {\r\n                    setUser(_user)\r\n                    resolve({userAttributes, requiredAttributes})\r\n                }\r\n            })\r\n        })\r\n    }\r\n    \r\n    // LOG OUT\r\n    //----------------------------------------------------------------------------------\r\n    const logout = () => {\r\n        const user = Pool.getCurrentUser()\r\n        if (user){\r\n            user.signOut()\r\n            setState({logged: false, loading: false, message: ''})\r\n            setSession(false)\r\n            setUser(false)\r\n        }\r\n    }\r\n    \r\n    // UPDATE USER PASSWORD\r\n    const updateUserPassword = async(Password, NewPassword, attributes) => {\r\n        return await new Promise((resolve, reject) => {\r\n            if (Password !== NewPassword){\r\n                reject(\"Password doesn't match:\", Password, NewPassword )\r\n            }else{\r\n                delete attributes.email_verified\r\n                user.completeNewPasswordChallenge(NewPassword, attributes, {\r\n                    onSuccess: (result) => {\r\n                        console.log('Success', result)\r\n                        login(user.username, NewPassword)\r\n                        .then((data) => {\r\n                            console.log('login', data)\r\n                            resolve(data)\r\n                        })\r\n                        .catch((err) => {\r\n                            reject(err)\r\n                        })\r\n                        resolve(result)\r\n                      },\r\n                      onFailure: (err) => {\r\n                        reject(err)\r\n                      }\r\n                })\r\n            }\r\n        })    \r\n    }\r\n\r\n    // GET ATRIBUTES\r\n    //----------------------------------------------------------------------------------\r\n    const getUserAtributes = async() => {\r\n        return await new Promise((resolve, reject) => {\r\n            user.getUserAttributes(function(err, attributes) {\r\n                if(err){\r\n                    reject(err)\r\n                }\r\n                const results = {}\r\n                for (let attribute of attributes){\r\n                    const {Name, Value} = attribute\r\n                    results[Name] = Value\r\n                }\r\n                resolve(results)\r\n            })\r\n        })\r\n    }\r\n    \r\n    // RETRURN\r\n    //----------------------------------------------------------------------------------\r\n    return (\r\n        <AuthContext.Provider value={{state, UserInfo, login, updateUserPassword, logout, getUserAtributes}}>\r\n            {props.children}\r\n        </AuthContext.Provider>\r\n    )\r\n}\r\n\r\nexport default AuthProvider","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\Main.jsx",[],"C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\UserPool.js",[],"C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\aws-exports.js",[],"C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\graphql\\queries_user.js",[],"C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\Login.jsx",["103","104"],"\r\n// Libraries\r\nimport React, {useEffect, useContext} from 'react'\r\nimport Credentials from './login/Credentials'\r\nimport NewPassword from \"./login/NewPassword\";\r\nimport {AuthContext} from \"./../context/AuthProvider\";\r\nimport { Container, Card, CardMedia } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useParams } from \"react-router-dom\";\r\nimport { EventContext } from \"../context/EventProvider\";\r\nimport { CompanyContext } from './../context/CompanyProvider';\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    cardMedia: {\r\n        paddingTop: '30%', \r\n      },\r\n    card: {\r\n        marginTop: theme.spacing(5),\r\n    },\r\n    form: {\r\n        width: '100%', // Fix IE 11 issue.\r\n        marginTop: theme.spacing(3),\r\n      },\r\n      submit: {\r\n        margin: theme.spacing(3, 0, 2),\r\n      },\r\n}))\r\n\r\nconst Login = (props) => {\r\n\r\n    let { id } = useParams()\r\n\r\n    const classes = useStyles();\r\n\r\n    const {state, login, logout, updateUserPassword } = useContext(AuthContext)\r\n    const {newError} = useContext(EventContext)\r\n    const {info, setCompanyName} = useContext(CompanyContext)\r\n\r\n    useEffect(() => {\r\n        logout()\r\n        if (!id) { id = 'IBS' }\r\n        setCompanyName(id)\r\n        credentialsOnSubmmit('Admin', 'Admin1234')\r\n    }, [id])\r\n\r\n    const newPasswordOnSubmmit = (Password, NewPassword, attributes)=>{\r\n        const func = async()=>{\r\n            updateUserPassword(Password, NewPassword, attributes)\r\n            .catch((error) => {\r\n                newError(error.message)\r\n                console.log('error', error)\r\n            })\r\n        }\r\n        func()\r\n    }\r\n\r\n    const credentialsOnSubmmit = (Username, Password)=>{\r\n        const func = async()=>{\r\n            login(Username, Password)\r\n            .catch((error) => {\r\n                newError(error.message)\r\n                console.log('error', error)\r\n            })\r\n        }\r\n        func()\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(state.logged){\r\n            props.history.push('/')\r\n        } \r\n\r\n    }, [state.logged])\r\n\r\n    return(\r\n        <Container maxWidth=\"xs\">\r\n            <Card className={classes.card}>\r\n                <CardMedia\r\n                    component=\"img\"\r\n                    className={classes.cardMedia}\r\n                    title=\"Company Image\"\r\n                    src={info.initImgURL}\r\n                />\r\n                {state.newPasswordRequired ? (\r\n                    <NewPassword \r\n                        onSubmit={newPasswordOnSubmmit}\r\n                        classes={classes}\r\n                    />\r\n                ) : (\r\n                    <Credentials \r\n                        onSubmit={credentialsOnSubmmit} \r\n                        classes={classes}\r\n                    />\r\n                )}\r\n            </Card>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\Container.jsx",[],"C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\login\\Credentials.jsx",[],"C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\login\\NewPassword.jsx",[],"C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\Footer.jsx",[],["105","106"],"C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\Navbar.jsx",["107"],"import React, {useState, useContext, useEffect} from 'react'\r\nimport clsx from 'clsx';\r\nimport {AppBar, Toolbar, IconButton, makeStyles} from '@material-ui/core'\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport CompanySelector from './componets/CompanySelector';\r\n\r\nimport { CompanyContext } from './../../context/CompanyProvider';\r\n\r\nconst drawerWidth = 250;\r\n\r\nconst useStyle = makeStyles(theme => ({\r\n    hide: {\r\n        display: 'none',\r\n    },\r\n    menuButton: {\r\n        marginRight: 36,\r\n    },\r\n    menuButtonOpen: {\r\n\r\n    },\r\n    menuButtonClose: {\r\n        marginLeft: theme.spacing(7) + 1,\r\n        [theme.breakpoints.up('sm')]: {\r\n          width: theme.spacing(9) + 1,\r\n        },\r\n        transition: theme.transitions.create(['width', 'margin'], {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.leavingScreen,\r\n          }),\r\n    },\r\n    title: {\r\n        flexGrow: 1,\r\n    },\r\n    appBar: {\r\n        //zIndex: theme.zIndex.drawer + 1,\r\n        transition: theme.transitions.create(['width', 'margin'], {\r\n          easing: theme.transitions.easing.sharp,\r\n          duration: theme.transitions.duration.leavingScreen,\r\n        }),\r\n    },\r\n    appBarOpen: {\r\n        marginLeft: drawerWidth,\r\n        width: `calc(100% - ${drawerWidth}px)`,\r\n        transition: theme.transitions.create(['width', 'margin'], {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.enteringScreen,\r\n        }),\r\n    },\r\n    appBarClose: {\r\n        marginLeft: theme.spacing(7) + 1,\r\n        [theme.breakpoints.up('sm')]: {\r\n          width: theme.spacing(9) + 1,\r\n        },\r\n    }\r\n    \r\n}))\r\n\r\nconst Navbar = (props) => {\r\n\r\n    const {open, onClose, onOpen} = props\r\n    const classes = useStyle()\r\n\r\n    const {companyList, setActualCompany} = useContext(CompanyContext)\r\n\r\n    const [companyValue, setCompanyValue] = useState('')\r\n    const [list, setList] = useState([])\r\n    const [loaded, setloaded] = useState(false)\r\n\r\n    useEffect(() => {\r\n        //console.log('List', companyList);\r\n        if(companyList){\r\n            setList(companyList.map((item, index)=>{\r\n                return { value: index, label: item.name }\r\n              }))\r\n        }\r\n    }, [companyList])\r\n\r\n    useEffect(() => {\r\n        if (list.length > 1){\r\n            setloaded(true)\r\n            setCompanyValue(list[0])\r\n        }else{\r\n            setloaded(false)\r\n            setCompanyValue('')\r\n        }\r\n        console.log(list);\r\n    }, [list])\r\n\r\n    useEffect(() => {\r\n        if (loaded){\r\n            setActualCompany(companyValue.value)\r\n        }\r\n    }, [companyValue])\r\n\r\n    const ClickHandler = ()=>{\r\n        if(open){\r\n            onClose()\r\n        } else {\r\n            onOpen()\r\n        }\r\n    }\r\n\r\n    return (\r\n        <AppBar \r\n            className={clsx(classes.appBar, {\r\n                [classes.appBarOpen]: open,\r\n            })}\r\n        >\r\n            <Toolbar>\r\n                <IconButton\r\n                    color=\"inherit\"\r\n                    aria-label=\"open drawer\"\r\n                    onClick={ClickHandler}\r\n                    edge=\"start\"\r\n                    className={clsx(classes.menuButton, {\r\n                    [classes.menuButtonOpen]: open,\r\n                    [classes.menuButtonClose]: !open,\r\n                    })}\r\n                >\r\n                    <MenuIcon/>\r\n                </IconButton>\r\n                {\r\n                    loaded ? (<CompanySelector items={list} value={companyValue} setValue={setCompanyValue} />) : null\r\n                }\r\n                \r\n            </Toolbar>\r\n        </AppBar>\r\n    )\r\n}\r\n\r\nexport default Navbar\r\n","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\Sidebar.jsx",["108","109","110","111","112"],"C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\dashboard\\Dashboard.jsx",[],"C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\componets\\CompanySelector.jsx",["113","114"],"import React, {useState} from 'react'\r\n\r\nimport {makeStyles, FormControl, InputLabel, } from '@material-ui/core';\r\nimport Select from \"react-select\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n      margin: theme.spacing(1),\r\n      minWidth: 120,\r\n      borderColor: 'white'\r\n    },\r\n    select: {\r\n      color: 'white',\r\n      //backgroundColor: 'blue'\r\n    },\r\n    label: {\r\n        color: 'white'  \r\n    },\r\n    icon: {\r\n        fill: 'white'  \r\n    },\r\n  }));\r\n\r\nconst CompanySelector = ({items, value, setValue}) => {\r\n\r\n    const classes = useStyles()\r\n\r\n    \r\n    const colourStyles = {\r\n      option: (styles, { data, isDisabled, isFocused, isSelected }) => {\r\n        // const color = chroma(data.color);\r\n        //console.log({ data, isDisabled, isFocused, isSelected });\r\n        return {\r\n          ...styles,\r\n          backgroundColor: isFocused ? \"#999999\" : null,\r\n          color: \"#333333\",\r\n        };\r\n      }\r\n    };\r\n\r\n    return (\r\n        <FormControl variant=\"outlined\" className={classes.formControl}>\r\n            \r\n            <Select\r\n              value={value}\r\n              onChange={setValue}\r\n              defaultValue={items[0]}\r\n              label=\"Single select\"\r\n              options={items}\r\n              styles={colourStyles}\r\n            >\r\n            </Select>\r\n        </FormControl>\r\n    )\r\n}\r\n\r\nexport default CompanySelector\r\n","C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\sidebar\\SidebarHeader.jsx",["115"],"C:\\Users\\danie\\OneDrive\\Documentos\\Mis proyectos\\Peninsula\\Serverless\\src\\components\\container\\sidebar\\SidebarUser.jsx",["116","117","118"],{"ruleId":"119","replacedBy":"120"},{"ruleId":"121","replacedBy":"122"},{"ruleId":"123","severity":1,"message":"124","line":2,"column":9,"nodeType":"125","messageId":"126","endLine":2,"endColumn":17},{"ruleId":"123","severity":1,"message":"127","line":2,"column":19,"nodeType":"125","messageId":"126","endLine":2,"endColumn":22},{"ruleId":"128","severity":1,"message":"129","line":39,"column":8,"nodeType":"130","endLine":39,"endColumn":22,"suggestions":"131"},{"ruleId":"128","severity":1,"message":"132","line":49,"column":8,"nodeType":"130","endLine":49,"endColumn":37,"suggestions":"133"},{"ruleId":"123","severity":1,"message":"134","line":1,"column":27,"nodeType":"125","messageId":"126","endLine":1,"endColumn":33},{"ruleId":"128","severity":1,"message":"135","line":39,"column":8,"nodeType":"130","endLine":39,"endColumn":22,"suggestions":"136"},{"ruleId":"128","severity":1,"message":"137","line":43,"column":25,"nodeType":"138","endLine":43,"endColumn":30},{"ruleId":"128","severity":1,"message":"139","line":75,"column":8,"nodeType":"130","endLine":75,"endColumn":22,"suggestions":"140"},{"ruleId":"119","replacedBy":"141"},{"ruleId":"121","replacedBy":"142"},{"ruleId":"128","severity":1,"message":"143","line":93,"column":8,"nodeType":"130","endLine":93,"endColumn":22,"suggestions":"144"},{"ruleId":"123","severity":1,"message":"145","line":3,"column":94,"nodeType":"125","messageId":"126","endLine":3,"endColumn":100},{"ruleId":"123","severity":1,"message":"146","line":3,"column":102,"nodeType":"125","messageId":"126","endLine":3,"endColumn":112},{"ruleId":"123","severity":1,"message":"147","line":42,"column":27,"nodeType":"125","messageId":"126","endLine":42,"endColumn":33},{"ruleId":"123","severity":1,"message":"148","line":45,"column":11,"nodeType":"125","messageId":"126","endLine":45,"endColumn":16},{"ruleId":"123","severity":1,"message":"149","line":47,"column":12,"nodeType":"125","messageId":"126","endLine":47,"endColumn":16},{"ruleId":"123","severity":1,"message":"150","line":1,"column":16,"nodeType":"125","messageId":"126","endLine":1,"endColumn":24},{"ruleId":"123","severity":1,"message":"151","line":3,"column":34,"nodeType":"125","messageId":"126","endLine":3,"endColumn":44},{"ruleId":"123","severity":1,"message":"152","line":7,"column":7,"nodeType":"125","messageId":"126","endLine":7,"endColumn":18},{"ruleId":"123","severity":1,"message":"145","line":5,"column":68,"nodeType":"125","messageId":"126","endLine":5,"endColumn":74},{"ruleId":"123","severity":1,"message":"153","line":5,"column":103,"nodeType":"125","messageId":"126","endLine":5,"endColumn":126},{"ruleId":"123","severity":1,"message":"152","line":9,"column":7,"nodeType":"125","messageId":"126","endLine":9,"endColumn":18},"no-native-reassign",["154"],"no-negated-in-lhs",["155"],"no-unused-vars","'blueGrey' is defined but never used.","Identifier","unusedVar","'red' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getCompanyList'. Either include it or remove the dependency array.","ArrayExpression",["156"],"React Hook useEffect has a missing dependency: 'info'. Either include it or remove the dependency array.",["157"],"'useRef' is defined but never used.","React Hook useEffect has missing dependencies: 'refresh' and 'session.accessToken'. Either include them or remove the dependency array.",["158"],"Assignments to the 'id' variable from inside React Hook useEffect will be lost after each render. To preserve the value over time, store it in a useRef Hook and keep the mutable value in the '.current' property. Otherwise, you can move this variable directly inside useEffect.","Literal","React Hook useEffect has a missing dependency: 'props.history'. Either include it or remove the dependency array.",["159"],["154"],["155"],"React Hook useEffect has missing dependencies: 'loaded' and 'setActualCompany'. Either include them or remove the dependency array.",["160"],"'Avatar' is defined but never used.","'Typography' is defined but never used.","'onOpen' is assigned a value but never used.","'theme' is assigned a value but never used.","'info' is assigned a value but never used.","'useState' is defined but never used.","'InputLabel' is defined but never used.","'drawerWidth' is assigned a value but never used.","'ListItemSecondaryAction' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"161","fix":"162"},{"desc":"163","fix":"164"},{"desc":"165","fix":"166"},{"desc":"167","fix":"168"},{"desc":"169","fix":"170"},"Update the dependencies array to be: [getCompanyList, state.logged]",{"range":"171","text":"172"},"Update the dependencies array to be: [info.name, info.faviIconUrl, info]",{"range":"173","text":"174"},"Update the dependencies array to be: [refresh, session.accessToken, state.logged]",{"range":"175","text":"176"},"Update the dependencies array to be: [props.history, state.logged]",{"range":"177","text":"178"},"Update the dependencies array to be: [companyValue, loaded, setActualCompany]",{"range":"179","text":"180"},[1144,1158],"[getCompanyList, state.logged]",[1381,1410],"[info.name, info.faviIconUrl, info]",[1192,1206],"[refresh, session.accessToken, state.logged]",[2069,2083],"[props.history, state.logged]",[2674,2688],"[companyValue, loaded, setActualCompany]"]